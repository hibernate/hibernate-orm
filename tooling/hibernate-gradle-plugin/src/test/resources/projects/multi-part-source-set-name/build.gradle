/*
 * SPDX-License-Identifier: Apache-2.0
 * Copyright Red Hat Inc. and Hibernate Authors
 */

plugins {
    id 'java'
    id 'org.hibernate.orm'
}

repositories {
    mavenCentral()

    maven {
        name 'jboss-snapshots-repository'
        url 'https://repository.jboss.org/nexus/content/repositories/snapshots'
    }
}

sourceSets {
    mySpecialSourceSet {
        java {
            srcDirs "src/mySpecialSourceSet/java"
        }
    }
}

dependencies {
    // NOTE : The version used here is irrelevant in terms of testing the plugin.
    // We just need a resolvable version
    mySpecialSourceSetImplementation 'org.hibernate.orm:hibernate-core:6.1.0.Final'
}

hibernate {
    useSameVersion = false
    sourceSet = 'mySpecialSourceSet'
    enhancement {
        enableLazyInitialization.set(true)
        lazyInitialization = true

        enableDirtyTracking.set(true)
        dirtyTracking = true
    }
}
